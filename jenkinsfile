pipeline {
    agent any

    environment {
        TESTCONTAINERS_RYUK_DISABLED = "true"
        TESTCONTAINERS_CHECKS_DISABLE = "true"
    }

    stages {
        stage("build code") {
            steps {
                sh """
                    ./mvnw package -DskipTests
                    ls -lrt target/*.jar
                """

               stage("Run-Unit-Tests"){ 
             steps {
                 sh """
                     ./mvnw test

                 """
             }
            }
 
            }
        }
    }
}